!function(){let scriptTag=document.currentScript,ANALYTICS_HOST=scriptTag.getAttribute("src").split("/script.js")[0],webVitalsScript=`
    !function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):(e="undefined"!=typeof globalThis?globalThis:e||self,t(e.webVitals={}))}(this,(function(e){"use strict";var t,n,i,r,a=function(e,t){return{name:e,value:void 0===t?-1:t,rating:"good",delta:0,entries:[],id:"v3-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12),navigationType:function(){try{return performance.getEntriesByType("navigation")[0].type}catch(e){return"navigate"}}()}},o=function(e,t,n){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){var i=new PerformanceObserver((function(e){Promise.resolve().then((function(){t(e.getEntries())}))}));return i.observe(Object.assign({type:e,buffered:!0},n||{})),i}}catch(e){}},u=function(e,t,n,i){var r,a;return function(o){t.value>=0&&(o||i)&&((a=t.value-(r||0))||void 0===r)&&(r=t.value,t.delta=a,t.rating=function(e,t){return e>t[1]?"poor":e>t[0]?"needs-improvement":"good"}(t.value,n),e(t))}},c=function(e){requestAnimationFrame((function(){return requestAnimationFrame((function(){return e()}))}))},s=function(e){var t=function(t){"pagehide"!==t.type&&"hidden"!==document.visibilityState||e(t)};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)},f=function(e){var t=!1;return function(n){t||(e(n),t=!0)}},d=-1,l=function(){return"hidden"!==document.visibilityState||document.prerendering?1/0:0},v=function(e){"hidden"===document.visibilityState&&d>-1&&(d="visibilitychange"===e.type?e.timeStamp:0,m())},p=function(){addEventListener("visibilitychange",v,!0),addEventListener("prerenderingchange",v,!0)},m=function(){removeEventListener("visibilitychange",v,!0),removeEventListener("prerenderingchange",v,!0)},h=function(){return d<0&&(d=l(),p(),s((function(){setTimeout((function(){d=l(),p()}),0)}))),{get firstHiddenTime(){return d}}},g=function(e){document.prerendering?addEventListener("prerenderingchange",(function(){return e()}),!0):e()},T=[1800,3e3],y=function(e,t){t=t||{},g((function(){var n,i=h(),r=a("FCP"),c=o("paint",(function(e){e.forEach((function(e){"first-contentful-paint"===e.name&&(c.disconnect(),e.startTime<i.firstHiddenTime&&(r.value=Math.max(e.startTime-((n=performance.getEntriesByType("navigation")[0])&&n.activationStart||0),0),r.entries.push(e),u(e,r,T,t.reportAllChanges)()))}))}));c&&(n=performance.getEntriesByType("navigation")[0])&&n.activationStart&&n.activationStart>0&&(r.value=Math.max(n.activationStart,0),r.entries.push(n),u(e,r,T,t.reportAllChanges)())}))},E=[.1,.25],L=function(e,t){t=t||{},y(f((function(){var n,i=a("CLS",0),r=0,c=[],l=function(e){e.forEach((function(e){if(!e.hadRecentInput){var t=c[0],n=c[c.length-1];r&&e.startTime-n.startTime<1e3&&e.startTime-t.startTime<5e3?(r+=e.value,c.push(e)):(r=e.value,c=[e])}})),r>i.value&&(i.value=r,i.entries=c,n())},v=o("layout-shift",l);v&&(n=u(e,i,E,t.reportAllChanges),s((function(){l(v.takeRecords()),n(!0)})),setTimeout(n,0))})))},b=[200,500],S=function(e,t){t=t||{},g((function(){var n,i=h(),r=a("INP"),c=function(e){e.forEach((function(e){(e.interactionId&&l(e),e.entryType)&&("first-input"===e.entryType?!function(e){if(e.interactionId){var t=d.get(e.interactionId);t?(t.entries.push(e),t.latency=Math.max(t.latency,e.processingEnd-e.processingStart)):(d.set(e.interactionId,{id:e.interactionId,latency:e.processingEnd-e.processingStart,entries:[e]}),v.add(e.interactionId))}}(e):"event"===e.entryType&&l(e))}))},l=function(e){var t=e.interactionId;if(null!=t){var n=d.get(t);n||(n={id:t,latency:0,entries:[]},d.set(t,n),v.add(t));var i=e.processingEnd-e.processingStart;i>n.latency&&(n.latency=i),n.entries.push(e)}},v=new Set,d=new Map,p=function(){var e=Math.min(d.size-1,Math.floor(d.size/50));return function(e){var t=[];return v.forEach((function(n){var i=d.get(n);i&&t.push(i)})),t.sort((function(e,t){return t.latency-e.latency})),t.slice(0,e)}(e)},m=function(){var e=p();e.length>0&&(r.value=e[0].latency,r.entries=e[0].entries,n())},T=o("event",c,{durationThreshold:t.durationThreshold||40});n=u(e,r,b,t.reportAllChanges),T&&(T.observe({type:"first-input",buffered:!0}),s((function(){c(T.takeRecords()),r.value<0&&p().length>0&&(r.value=0,r.entries=[]),n(!0)})),setTimeout((function(){p().length>0&&m()}),0))}))},w=[2500,4e3],I=function(e,t){t=t||{},g((function(){var n,i=h(),r=a("LCP"),c=function(e){var t=e[e.length-1];t&&t.startTime<i.firstHiddenTime&&(r.value=Math.max(t.startTime-((n=performance.getEntriesByType("navigation")[0])&&n.activationStart||0),0),r.entries=[t],l())},l=u(e,r,w,t.reportAllChanges),v=o("largest-contentful-paint",c);if(v){n=performance.getEntriesByType("navigation")[0],n&&n.activationStart&&n.activationStart>0&&(r.value=Math.max(n.activationStart,0),r.entries=[n],l());var d=function(){v.takeRecords().length&&c(v.takeRecords()),v.disconnect()};["keydown","click"].forEach((function(e){addEventListener(e,d,!0)})),s(d),setTimeout(d,0)}}))},C=[800,1800],A=function(e,t){t=t||{},g((function(){var n,i=a("TTFB"),r=function(){try{var e=performance.getEntriesByType("navigation")[0]||function(){var e=performance.timing,t={entryType:"navigation",startTime:0,type:void 0!==performance.navigation?{0:"navigate",1:"reload",2:"back_forward"}[performance.navigation.type]:"navigate"};for(var n in e)"navigationStart"!==n&&"toJSON"!==n&&(t[n]=Math.max(e[n]-e.navigationStart,0));return t}();return e.responseStart>0?e.responseStart:e.fetchStart}catch(e){return 0}}();r&&(i.value=Math.max(r-((n=performance.getEntriesByType("navigation")[0])&&n.activationStart||0),0),i.entries=[n],u(e,i,C,t.reportAllChanges)())}))};e.getCLS=L,e.getFCP=y,e.getFID=function(e,t){return S(e,Object.assign({durationThreshold:40},t))},e.getINP=S,e.getLCP=I,e.getTTFB=A,Object.defineProperty(e,"__esModule",{value:!0})}));
  `;try{eval(webVitalsScript)}catch(e){console.warn("Failed to load web vitals library:",e)}if(null!==localStorage.getItem("disable-rybbit")){window.rybbit={pageview(){},event(){},trackOutbound(){},identify(){},clearUserId(){},getUserId:()=>null};return}if(!ANALYTICS_HOST){console.error("Please provide a valid analytics host");return}let SITE_ID=scriptTag.getAttribute("data-site-id")||scriptTag.getAttribute("site-id");if(!SITE_ID||isNaN(Number(SITE_ID))){console.error("Please provide a valid site ID using the data-site-id attribute");return}let debounceDuration=scriptTag.getAttribute("data-debounce")?Math.max(0,parseInt(scriptTag.getAttribute("data-debounce"))):500,autoTrackPageview="false"!==scriptTag.getAttribute("data-auto-track-pageview"),autoTrackSpa="false"!==scriptTag.getAttribute("data-track-spa"),trackQuerystring="false"!==scriptTag.getAttribute("data-track-query"),trackOutbound="false"!==scriptTag.getAttribute("data-track-outbound"),skipPatterns=[];try{let skipAttr=scriptTag.getAttribute("data-skip-patterns");skipAttr&&(skipPatterns=JSON.parse(skipAttr),Array.isArray(skipPatterns)||(skipPatterns=[]))}catch(e){console.error("Error parsing data-skip-patterns:",e)}let maskPatterns=[];try{let maskAttr=scriptTag.getAttribute("data-mask-patterns");maskAttr&&(maskPatterns=JSON.parse(maskAttr),Array.isArray(maskPatterns)||(maskPatterns=[]))}catch(e){console.error("Error parsing data-mask-patterns:",e)}let customUserId=null;try{let storedUserId=localStorage.getItem("rybbit-user-id");storedUserId&&(customUserId=storedUserId)}catch(e){}function patternToRegex(e){let t="__DOUBLE_ASTERISK_TOKEN__",n="__SINGLE_ASTERISK_TOKEN__",r=e.replace(/\*\*/g,t).replace(/\*/g,n).replace(/[.+?^${}()|[\]\\]/g,"\\$&"),i=(r=r.replace(/\//g,"\\/")).replace(RegExp(t,"g"),".*").replace(RegExp(n,"g"),"[^/]+");return RegExp("^"+i+"$")}function findMatchingPattern(e,t){for(let n of t)try{let r=patternToRegex(n);if(r.test(e))return n}catch(i){console.error(`Invalid pattern: ${n}`,i)}return null}function debounce(e,t){let n;return(...r)=>{clearTimeout(n),n=setTimeout(()=>e.apply(this,r),t)}}function isOutboundLink(e){try{let t=window.location.hostname,n=new URL(e).hostname;return n!==t&&""!==n}catch(r){return!1}}let track=(e="pageview",t="",n={})=>{if("custom_event"===e&&(!t||"string"!=typeof t)){console.error("Event name is required and must be a string for custom events");return}let r=new URL(window.location.href),i=r.pathname;if(r.hash&&r.hash.startsWith("#/")&&(i=r.hash.substring(1)),findMatchingPattern(i,skipPatterns))return;let a=findMatchingPattern(i,maskPatterns);a&&(i=a);let o={site_id:SITE_ID,hostname:r.hostname,pathname:i,querystring:trackQuerystring?r.search:"",screenWidth:window.innerWidth,screenHeight:window.innerHeight,language:navigator.language,page_title:document.title,referrer:document.referrer,type:e,event_name:t,properties:"custom_event"===e||"outbound"===e?JSON.stringify(n):void 0};customUserId&&(o.user_id=customUserId),fetch(`${ANALYTICS_HOST}/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(o),mode:"cors",keepalive:!0}).catch(console.error)},webVitalsData={lcp:null,cls:null,inp:null,fcp:null,ttfb:null},webVitalsSent=!1,webVitalsTimeout=null,checkAndSendWebVitals=()=>{if(webVitalsSent)return;let e=Object.values(webVitalsData).every(e=>null!==e);e&&sendWebVitals()},sendWebVitals=()=>{if(webVitalsSent)return;webVitalsSent=!0,webVitalsTimeout&&(clearTimeout(webVitalsTimeout),webVitalsTimeout=null);let e={site_id:SITE_ID,hostname:window.location.hostname,pathname:window.location.pathname,querystring:trackQuerystring?window.location.search:"",screenWidth:window.innerWidth,screenHeight:window.innerHeight,language:navigator.language,page_title:document.title,referrer:document.referrer,type:"performance",event_name:"web-vitals",lcp:webVitalsData.lcp,cls:webVitalsData.cls,inp:webVitalsData.inp,fcp:webVitalsData.fcp,ttfb:webVitalsData.ttfb};customUserId&&(e.user_id=customUserId),fetch(`${ANALYTICS_HOST}/track`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e),mode:"cors",keepalive:!0}).catch(console.error)},collectMetric=e=>{webVitalsSent||(webVitalsData[e.name.toLowerCase()]=e.value,checkAndSendWebVitals())},initWebVitals=()=>{if("undefined"!=typeof webVitals)try{webVitals.getLCP(collectMetric),webVitals.getCLS(collectMetric),webVitals.getINP(collectMetric),webVitals.getFCP(collectMetric),webVitals.getTTFB(collectMetric),webVitalsTimeout=setTimeout(()=>{webVitalsSent||sendWebVitals()},1e4),window.addEventListener("beforeunload",()=>{webVitalsSent||sendWebVitals()})}catch(e){console.warn("Error initializing web vitals tracking:",e)}},trackPageview=()=>track("pageview"),debouncedTrackPageview=debounceDuration>0?debounce(trackPageview,debounceDuration):trackPageview;if(trackOutbound&&document.addEventListener("click",function(e){let t=e.target.closest("a");t&&t.href&&isOutboundLink(t.href)&&track("outbound","",{url:t.href,text:t.innerText||t.textContent||"",target:t.target||"_self"})}),autoTrackSpa){let originalPushState=history.pushState,originalReplaceState=history.replaceState;history.pushState=function(...e){originalPushState.apply(this,e),debouncedTrackPageview()},history.replaceState=function(...e){originalReplaceState.apply(this,e),debouncedTrackPageview()},window.addEventListener("popstate",debouncedTrackPageview),window.addEventListener("hashchange",debouncedTrackPageview)}window.rybbit={pageview:trackPageview,event:(e,t={})=>track("custom_event",e,t),trackOutbound:(e,t="",n="_self")=>track("outbound","",{url:e,text:t,target:n}),identify(e){if("string"!=typeof e||""===e.trim()){console.error("User ID must be a non-empty string");return}customUserId=e.trim();try{localStorage.setItem("rybbit-user-id",customUserId)}catch(t){console.warn("Could not persist user ID to localStorage")}},clearUserId(){customUserId=null;try{localStorage.removeItem("rybbit-user-id")}catch(e){}},getUserId:()=>customUserId},autoTrackPageview&&trackPageview(),initWebVitals()}();