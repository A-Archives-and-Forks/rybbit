# Caddyfile
{$DOMAIN_NAME} {
    # Enable compression
    encode zstd gzip

    # General timeouts
    timeouts {
        read_body 30s
        write 30s
    }

    handle /api/* {
        max_size 10MB
        reverse_proxy backend:3001
    }

    # Proxy all other requests to the client service
    handle {
        reverse_proxy client:3002
    }
}