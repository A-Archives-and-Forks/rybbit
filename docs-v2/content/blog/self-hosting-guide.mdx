---
title: Complete Guide to Self-Hosting Rybbit Analytics
description: Learn how to self-host Rybbit on your own infrastructure for complete data ownership and privacy control.
date: 2024-01-25
author: Rybbit Team
tags: [self-hosting, tutorial, docker]
---

Self-hosting Rybbit gives you complete control over your analytics data. This guide will walk you through the entire process of setting up Rybbit on your own infrastructure.

## Why Self-Host?

Self-hosting Rybbit provides several benefits:

- **Complete Data Ownership**: Your data never leaves your servers
- **Custom Configuration**: Tailor the setup to your needs
- **No Usage Limits**: Track unlimited events and websites
- **Enhanced Privacy**: Keep sensitive data in-house
- **Cost Control**: Pay only for your infrastructure

## Prerequisites

Before starting, ensure you have:

- A server with at least 2GB RAM
- Docker and Docker Compose installed
- A domain name pointed to your server
- Basic knowledge of Linux and Docker

## Quick Setup with Script

The fastest way to get started is using our automated setup script:

```bash
# Clone the repository
git clone https://github.com/rybbit-io/rybbit.git
cd rybbit

# Run the setup script
./scripts/setup.sh
```

The script will:
1. Configure your environment
2. Set up SSL with Caddy
3. Initialize the database
4. Start all services

## Manual Setup

For more control, you can set up manually:

### Step 1: Configure Environment

Create a `.env` file with your configuration:

```bash
# Required configuration
DOMAIN_NAME=analytics.yourdomain.com
BASE_URL=https://analytics.yourdomain.com
BETTER_AUTH_SECRET=your-secret-key-here

# Optional settings
DISABLE_SIGNUP=false
```

### Step 2: Start Services

Use Docker Compose to start all services:

```bash
# Start with Caddy (includes SSL)
docker-compose up -d

# Or without Caddy (bring your own proxy)
docker-compose -f docker-compose.yml up -d
```

### Step 3: Create Admin Account

Visit your domain and create the first admin account. You can then optionally disable signups:

```bash
# Disable new signups
echo "DISABLE_SIGNUP=true" >> .env
docker-compose restart
```

## Configuration Options

### Using Custom Ports

If default ports are in use:

```bash
HOST_BACKEND_PORT="8080:3001"
HOST_CLIENT_PORT="8081:3002"
```

### Database Configuration

Rybbit uses PostgreSQL and ClickHouse. Default configurations work well, but you can customize:

```bash
# PostgreSQL
POSTGRES_PASSWORD=your-password
POSTGRES_DB=rybbit

# ClickHouse
CLICKHOUSE_PASSWORD=your-password
```

### Using External Databases

For production deployments, you might want external databases:

```bash
DATABASE_URL=postgresql://user:pass@host:5432/rybbit
CLICKHOUSE_URL=http://user:pass@host:8123
```

## Integration with Existing Infrastructure

### Nginx Reverse Proxy

If you're using Nginx:

```nginx
server {
    listen 443 ssl http2;
    server_name analytics.yourdomain.com;

    location / {
        proxy_pass http://localhost:3002;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }

    location /api {
        proxy_pass http://localhost:3001;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### Traefik Integration

For Traefik users, add these labels to docker-compose:

```yaml
labels:
  - "traefik.enable=true"
  - "traefik.http.routers.rybbit.rule=Host(`analytics.yourdomain.com`)"
  - "traefik.http.routers.rybbit.tls=true"
```

## Monitoring & Maintenance

### Health Checks

Monitor service health:

```bash
# Check all services
docker-compose ps

# View logs
docker-compose logs -f

# Check specific service
docker-compose logs client
```

### Backups

Regular backups are crucial:

```bash
# Backup PostgreSQL
docker-compose exec postgres pg_dump -U postgres rybbit > backup.sql

# Backup ClickHouse
docker-compose exec clickhouse clickhouse-backup create
```

### Updates

Keep Rybbit updated:

```bash
# Pull latest changes
git pull

# Rebuild and restart
docker-compose down
docker-compose build
docker-compose up -d
```

## Troubleshooting

### Common Issues

**Port conflicts**: Change ports in `.env` file
**SSL issues**: Check Caddy logs with `docker-compose logs caddy`
**Database connection**: Verify DATABASE_URL is correct
**High memory usage**: Adjust ClickHouse settings

### Getting Help

If you encounter issues:

1. Check our [troubleshooting guide](/docs/troubleshooting)
2. Search [GitHub issues](https://github.com/rybbit-io/rybbit/issues)
3. Join our [Discord community](https://discord.gg/DEhGb4hYBj)
4. Contact support at hello@rybbit.io

## Conclusion

Self-hosting Rybbit gives you the best of both worlds: powerful analytics with complete data control. Whether you're handling sensitive data or want to avoid third-party dependencies, self-hosting is a great choice.

Ready to get started? Check out our [GitHub repository](https://github.com/rybbit-io/rybbit) for the latest code and documentation.